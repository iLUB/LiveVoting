<!-- BEGIN title -->
<link rel="stylesheet" type="text/css" href="{CSS_PATH}">
<script>
$(document).ready(function() {
        $("#{POSTVAR}\\[new0\\]").keydown(function(event){
                adderFunc(event, this, "{POSTVAR}",0);
            });

    $('.lvo_x').live("click", function(){
       $(this).parent().parent().remove();
    });

        //MAKE PLACEHOLDERS FOR ALL BROWSERS
        $('[placeholder]').live("focus", function() {
            var input = $(this);
            input.removeClass('lvo_new_option placeholder').addClass('lvo_new_option');
            if (input.val() == input.attr('placeholder')) {
                input.val('');
            }
        }).blur(function() {
                    var input = $(this);
                    if (input.val() == '' || input.val() == input.attr('lvo_new_option placeholder')) {
                        input.addClass('placeholder');
                        input.val(input.attr('lvo_new_option placeholder'));
                    }
                }).blur();
        $('[placeholder]').parents('form').submit(function() {
            $(this).find('[placeholder]').each(function() {
                var input = $(this);
                if (input.val() == input.attr('placeholder')) {
                    input.val('');
                }
            })
        });
});

adderFunc = function(event, dom, postvar, newOption){
    this.newOption = newOption
    this.postvar = postvar;
    if(event.keyCode == 13){
        event.preventDefault();
    }
    if(event.keyCode >= 48 && event.keyCode <= 125){
        this.newOption++;
        $('.lvo_options').append(
                "" +
                "<div class='lvo_option'>" +
                    "<input size=75 id='"+this.postvar+"[new"+this.newOption+"]' name='"+this.postvar+"[new"+this.newOption+"]' type='text' class='lvo_new_option placeholder' placeholder='{PLACEHOLDER}' value=''> " +
                    "<a id='new_option_"+this.newOption+"_x' class='lvo_x' style='display: none;'><span class='glyphicon glyphicon-minus lvo_x' aria-hidden='true'></span></a>" +
                "</div>");
        var self = this;
        $('#'+this.postvar+'\\[new'+this.newOption+'\\]').keydown(function(event){
            adderFunc(event, this,self.postvar,self.newOption);
        });
        $(dom).parent().find(".lvo_x").fadeIn("slow");
        $(dom).unbind("keydown");
    }
}

</script>
<!-- END title -->
<!-- BEGIN lvo_options_start -->
<div class="lvo_options">
<!-- END lvo_options_start -->
<!-- BEGIN lvo_option -->
<div class="lvo_option">
        <input size="75" id="{OPTION_ID}" name="{OPTION_ID}" type="text" class="{OPTION_CLASS} {PLACEHOLDER_CLASS}" value="{OPTION_VALUE}" {PLACEHOLDER}>
        <a><span class="glyphicon glyphicon-minus lvo_x" aria-hidden="true" style='display: {X_DISPLAY};'></span></a>
    </div>
<!-- END lvo_option -->
<!-- BEGIN lvo_options_end -->
</div>
<!-- END lvo_options_end -->
